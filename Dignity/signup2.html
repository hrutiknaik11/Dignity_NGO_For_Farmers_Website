<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="stylesheet" href="signup2style.css">
	<title>SIGNUP</title>

</head>
<body>

	<div class="container">
		<div class="header">
			<h2>Create Account</h2>
		</div>
		<div id="form">
		<form class="form" action="signup.php" method="POST">
			<div class="form-control">
				<label for="username">Username</label>
				<input type="text" placeholder="Enter Username" id="username" name="username" />
				
				<small>Error message</small>
			</div>
			<div class="form-control">
				<label for="email">Email</label>
				<input type="email" placeholder="example@gmail.com" id="email" name="email" />
				<small>Error message</small>
			</div>
			<div class="form-control">
				<label for="password">Password</label>
				<input type="password" placeholder="Enter Password" id="password" name="password" /><br>
				<small>Error message</small>
			</div>
			<div class="form-control">
				<label for="password2">Re-enter Password</label>
				<input type="password" placeholder="Re-enter Password" id="password2" name="password2" />
				<small>Error message</small>
			</div>
			<div class="form-control">
				<label for="address">Address</label>
				<input type="text" placeholder="Enter Address" id="address" name="address" />
				<small>Error message</small>
			</div>
			<div class="form-control">
				<label for="number">Phone Number</label>
				<input type="number" placeholder="Enter Number" id="number" name="contact" />
				<small>Error message</small>
			</div>
			<a href="file:///C:/Users/hrutu/Documents/Sublime/login.html">Alreday have an account? Click here.</a>
			<div align="center"><button type="submit" name="save" >Submit</button></div>
			<div align="center"><button type="button"  onclick="window.location.href='file:///C:/xampp/htdocs/rwd.html'">Continue</button></div>
		</form>
		</div>

	</div>
<script>
	const form = document.getElementById('form');
	const username = document.getElementById('username');
	const email = document.getElementById('email');
	const password = document.getElementById('password');
	const password2 = document.getElementById('password2');
	const address = document.getElementById('address');
	const number = document.getElementById('number');
	form.addEventListener('submit', e => {
		e.preventDefault();
	
		checkInputs();
});

function checkInputs()
 {
	// trim to remove the whitespaces
	const usernameValue = username.value.trim();
	const emailValue = email.value.trim();
	const passwordValue = password.value.trim();
	const password2Value = password2.value.trim();
	const numberValue = number.value.trim();
	const addressValue = address.value.trim();
	
	if(usernameValue === '') 
	{
		setErrorFor(username, 'Username cannot be blank');
	} else 
	{
		setSuccessFor(username);
	}
	if(addressValue === '') 
	{
		setErrorFor(address, 'Address cannot be blank');
	} else 
	{
		setSuccessFor(address);
	}
	
	if(emailValue === '') 
	{
		setErrorFor(email, 'Email cannot be blank');
	} 
	else if (!isEmail(emailValue)) 
	{
		setErrorFor(email, 'Not a valid email');
	}
	 else 
	{
		setSuccessFor(email);
	}
	
	if(passwordValue === '')
	 {
		setErrorFor(password, 'Password cannot be blank');
	}
	else if (!ispw(passwordValue)) 
	{
		setErrorFor(password, 'Password should be of length 7-15 and contain Upper,Lower Case Letter,a Digit & Special Charachter' );
	} 
	else 
	{
		setSuccessFor(password);
	}
	
	if(password2Value === '') 
	{
		setErrorFor(password2, ' Confirmed Password cannot be blank');
	} else if(passwordValue !== password2Value) {
		setErrorFor(password2, 'Passwords does not match');
	} else{
		setSuccessFor(password2);
	}
	if(numberValue === '') 
	{
		setErrorFor(number, 'Number cannot be blank');
	} 
	else if (!isNumber(numberValue)) 
	{
		setErrorFor(number, 'Not a valid  number');
	}
	 else 
	{
		setSuccessFor(number);
	}
}

function setErrorFor(input, message) 
{
	const formControl = input.parentElement;
	const small = formControl.querySelector('small');
	formControl.className = 'form-control error';
	small.innerText = message;
}

function setSuccessFor(input) 
{
	const formControl = input.parentElement;
	formControl.className = 'form-control success';
}
	
function isEmail(email) 
{
	return /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(email);
}

function ispw(password)
{
	return /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/.test(password);

}
function isNumber(number)
{
	return /^\d{10}$/.test(number);
}
</script>

</body>
</html>


